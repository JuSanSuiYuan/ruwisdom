# 机器人摄像头集成功能说明

## 功能概述

此模块实现了将"儒智慧"系统与机器人设备集成的功能，主要包括：

1. 家长通过微信小程序查看机器人摄像头的实时视频流
2. 家长通过微信小程序查看教室里的固定摄像头的实时视频流
3. 支持摄像头云台控制（如果摄像头支持）
4. 支持视频录制功能（如果摄像头支持）

## 页面结构

1. **摄像头列表页面** (`camera-list`)：显示用户可访问的所有摄像头
2. **摄像头监控页面** (`camera-view`)：显示摄像头的实时视频流和控制功能

## 技术实现

### 后端实现

1. **数据模型**
   - `Robot.js`：存储机器人设备信息
   - `Camera.js`：存储摄像头设备信息

2. **视频流服务**
   - `videoStreamService.js`：处理视频流的获取、转码和管理

3. **API控制器**
   - `robotController.js`：处理机器人和摄像头相关的API请求

4. **路由**
   - `robotRoutes.js`：定义前端可以访问的API端点

### 前端实现

1. **摄像头列表页面**
   - 显示用户可访问的摄像头列表
   - 支持下拉刷新
   - 提供模拟数据以便在开发环境中测试

2. **摄像头监控页面**
   - 播放摄像头的实时视频流
   - 显示摄像头的详细信息
   - 支持云台控制（如果摄像头支持）
   - 支持视频录制（如果摄像头支持）

## 使用方法

1. 管理员需要先在系统中注册机器人和摄像头设备
2. 为家长用户分配摄像头的访问权限
3. 家长用户可以在微信小程序中进入"摄像头监控"页面查看视频流

## 注意事项

1. 视频流需要在支持的网络环境下才能流畅播放
2. 云台控制和视频录制功能需要摄像头硬件支持
3. 实际部署时，需要配置正确的视频流地址和参数
4. 在开发环境中，前端使用了模拟数据来展示功能